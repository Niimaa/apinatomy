!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("jquery"),require("bluebird"));else if("function"==typeof define&&define.amd)define(["jquery","bluebird"],t);else{var r="object"==typeof exports?t(require("jquery"),require("bluebird")):t(e.jQuery,e.P);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n,o;n=[r(1),r(2),r(3)],o=function(e,t,r){"use strict";function n(e){return i[e]||(i[e]=r()),i[e]}function o(e){for(var t=e.sub.length-1;t>=0;--t)null===e.sub[t].entity&&e.sub.splice(t)}function u(r){var u=[];return r.forEach(function(e){n(e).alreadyRequested||(n(e).alreadyRequested=!0,u.push(e))}),t.resolve(e.ajax({url:"http://www.apinatomy.org:8766/resources/entities/"+u.join(","),dataType:"jsonp"})).then(function(t){t.forEach(function(t){var r=Object.create(s);e.extend(r,t),o(r),n(r._id).resolve(r)})}),r.map(function(e){return n(e).promise})}var i={},s={getChildIds:function(){return this.sub.map(function(e){return e.entity._id})},getModels:function(e){return u(e)},get id(){return this._id}};return u}.apply(t,n),!(void 0!==o&&(e.exports=o))},function(t){t.exports=e},function(e){e.exports=t},function(e,t,r){var n,o;n=[r(2)],o=function(e){"use strict";return function(){var t,r,n=new e(function(){t=arguments[0],r=arguments[1]});return{resolve:t,reject:r,promise:n}}}.apply(t,n),!(void 0!==o&&(e.exports=o))}])});